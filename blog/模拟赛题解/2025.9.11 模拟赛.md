## T1-买宝珠（pearl）

### 题面

鲁国突然从齐的侧翼发动反击，早已被锁链连接的齐国战车这时无法灵活的转过来应敌。于是，齐军一击即溃，只能丢盔弃甲，仓皇而逃。

在逃跑过程中，鲍叔牙竟然弄丢了管仲代购的鲁国特产。

已知鲁国特产是由 $n-1$ 条丝带连接 $n$ 个宝珠构成的。即你可以将鲁国特产看成一棵树。

树的每条边上的颜色都是 $k$ 种颜色中的一种。如果树上的一条路径是彩色的，意味着这条路径上至少包含两种不同颜色的边。

鲍叔牙还记得 $m$ 条彩色路径的起点和终点。他现在想知道满足条件的树有多少可能？

由于答案可能很大，所以请将答案对 $10^9+7$ 取模。

$3\leq n\leq60,1\leq a_i,b_i,c_j,d_j\leq n,1\leq m\leq 15,2\leq k\leq 10^9$。

### 题解



## T2-玩游戏（game）

### 题面

小 X 和小 Y 是好朋友，有一天他们在玩游戏，规则是：

1.  小 X 先手，小 Y 后手，轮流进行操作，共有 $m$ 轮操作，有一个集合初始为 $S={a_1,a_2,\cdots,a_n}$。
2.  第 $i$ 轮操作有一个参数 $b_i$，当前轮的操作者有以下两个选择：保留 $S$ 中所有是 $b_i$ 倍数的数字，或者保留 $S$ 中所有不是 $b_i$ 倍数的数字。
3.  进行了 $m$ 轮操作后两人获得的权值是 $S$ 中的数字之和，$S$ 可以为空。

小 X 希望权值最小，小 Y 希望权值最大，假设他们足够聪明，那么游戏最终的权值是多少。
$1\leq n\leq2\times10^4,1\leq m\leq2\times10^5,-4\times10^{14}\leq a_i\leq4\times10^{14},1\leq b_i\leq4\times10^{14}$。

### 题解



## T3-游乐场（playground）

### 题面

有 $n$ 个人来游乐场玩水上飞人，第 $i$ 个人想玩至少 $a_i$ 次，每次水上飞人恰好有两个人游玩，并且为了防止无聊，两个人 $u,v$ 至多一块玩一次水上飞人。每个人有一个勇气值 $v_i$，如果他的勇气值大于等于所有和他一块玩过水上飞人的人，那么他会收获 $b_i$ 的快乐值；如果他的勇气值小于等于所有和他一块玩过水上飞人的人，那么他会收获 $c_i$ 的快乐值。但如果他的勇气值恰好等于所有和他一块玩过水上飞人的人（或者没有和任何人玩过水上飞人），他并不能获得 $b_i+c_i$ 的快乐值，而是只能获得 $\max(b_i,c_i)$ 的快乐值。并且如果他的勇气值既不同时大于等于也不同时小于等于所有和他一起玩过的人，他就会生气并把游乐场炸掉。除此以外，如果有人没玩够 $a_i$ 次水上飞人，或者有两个人 $u,v$ 一块玩了至少两次水上飞人，游乐场也会被炸掉。

作为游乐场的管理员，你要规划若干次水上飞人，使得游乐场不会被炸掉，并且所有人的快乐值之和最大，如果无解输出 $-1$。

$n\leq 400$，$0\leq a_i\leq n$，$1\leq v_i\leq n$，$0\leq b_i,c_i\leq 10^9$。

### 题解



## T4-子矩阵（matrix）

### 题面

你要维护一个 $n\times m$ 的矩阵 $A$，其中第 $i$ 行第 $j$ 列的元素记作 $A_{i,j}$。行和列从 $1$ 开始标号。初始时这个 $n\times m$ 的矩阵是全为 $0$ 的 $01$ 矩形。

你需要支持 $q$ 个操作，每个操作都是将一个从 $(x_1,y_1)$ 到 $(x_2,y_2)$ 的矩形反转，矩形反转即将矩阵中的元素 $0$ 变 $1$ 或者 $1$ 变 $0$。

你需要在所有操作结束之后，对最后的矩形求出有多少个子矩形，子矩阵要求：非空且连续，第一列全为 $1$ 或者最后一列全为 $1$。

答案对 $998244353$ 取模。

$1\leq n,m,q\leq2\times10^5$，$1\leq x_1\leq x_2\leq n$，$1\leq y_1\leq y_2\leq m$。

### 题解

